# 使用 AutoJs Pro 9.3.6 开发自动弹琴脚本

## 运行

先将代码编译

```shell
npm run build
```

可以电脑连接手机后，使用“运行项目”来运行，也可以将整个项目拷贝到手机里，使用AutoJs Pro 9.3.6来运行（进入项目的根目录就会出现一个运行的按钮）。

## ABC曲谱转换成Sky Studio曲谱

```shell
# npm run convert是固定命令，后面携带两个参数，第一个是文件名（使用引号包裹），第二个是歌曲的BPM
npm run convert 'Done for me.txt' 280
```

## 说明

一定要确保在弹奏键盘出现之后再播放，否则会出现界面乱跳或者某项一直被点击的现象，因为一直在发点击事件去“弹奏”，而没有弹奏键盘给我们弹，就会导致这样的结果。

如果本地使用过，但现在想用新数据，可以将`main.ts`中的`await Settings.clearSettings();`注释放开，可以清理以前的设置，因为目前并没有做一个“设置”的UI界面，因为只是自己使用。

智能打开键盘的功能，目前无障碍模式下，容易被检测，导致无障碍功能被游戏屏蔽。ADB模式目前还不错，只不过本人不太建议打开这个功能，因为它比较简略，只适配了三个页面，其他场景是无法智能打开弹奏键盘的。